# Web&Network



### 웹 통신의 큰 흐름을 설명 :   https://www.google.com/ 을 접속할 때 일어나는 일

>1. 사용자(클라이언트)가 브라우저에 url을 입력하면 
>2. DNS서버가 URL에 매핑되는 IP주소를 찾는다.  
>3. IP주소는 HTTP프로토콜을 이용하여 HTTP 요청 메시지를 보내고  
>4. HTTP 요청 메시지는 TCP프로토콜을 사용하여 인터넷을통해 해당IP주소의 서버로 전송된다. 
>5. 서버는 클라이언트의 요청(HTTP 요청 메시지)를 승인하고, HTTP 응답 메시지를 보낸다. 
>6. HTTP 응답 메시지는 HTTP 프로토콜을 통해 데이터로 변환되어, 브라우저에서 보여진다. 
>
><img src="https://user-images.githubusercontent.com/38436013/118634984-12d60180-b80e-11eb-8caa-ce4ed47628a2.png" alt="image" style="zoom:67%;" />

#### 웹 통신의 큰 흐름을 설명 : osi 7 layer로 연관지어 설명(안봐도됨 어려움)

> 1. (응용 계층[L7])  브라우저에 URL 입력   
> 2. (응용 계층 -> 네트워크 계층[L3] : DNS 프로토콜) url을 입력받으면, dns서버에 요청하여 ip주소로 변환  
> 3. (네트워크 계층 : 라우터 이용) 클라의 IP주소를 서버로 요청을 보내야함, 이때 라우터가 경로 설정을 해줌(IP주소가 어떻게 서버로 도달가능한가를 결정)  
> 4. (데이터링크(MAC) 계층[L2] : ARP 프로토콜)  IP 주소를 MAC주소로 변환(클라가 IP던지면 그 IP갖는 서버가 MAC주소로 응답해주는 것을 말함)  
> 5. (전송 계층[L4] : TCP 프로토콜) 3-WAY-HANDSHAKING을 이용해 서버와 클라이언트 연결됨, 이말은 응답 메시지를 서버가 클라한테 줄 수 있는 조건이 됨  
> 6. (응용 계층 : HTTP 프로토콜) 
>   연결되었으니 URL페이지에 대한 데이터 달라고 서버한테 요청, 서버는 응답, 브라우저에서 보여짐



### TCP와 UDP의 차이점?

>  TCP 
> - IP와 함께 사용하는 프로토콜 
>
> - IP가 데이터 전송을 한다면, TCP는 패킷 추적 및 관리 
>   => 연결형 서비스 지향 
>
> - 장점 : 신뢰성 , 보장 단점 : 속도 느림 
>
>   
>
> UDP 
>
> - 데이터를 데이터그램 단위로 처리하는 프로토콜
> - 데이터 그램 : 독립적인 형태의 패킷
>   => 비연결형 서비스(연결 위한 논리적 경로 따로 없고, 패킷 각각 다른 경로로 전송되어 도착지에 도착) 
> - 장점 : 스트리밍, 실시간 서비스(게임)에 적절, 단점 : 신뢰성이 떨어짐 



### TCP 3, 4 way handshake 설명?

>TCP 3 way handshake는 가상회선을 수립하는 단계다.
>
>클라 -> 서버에게 요청 전송 가능한지, 서버 -> 클라에게 응답 전송 가능한지 확인하는 과정
>
>SYN, ACK 패킷을 주고 받으며, 임의의 난수로 SYN플래그를 전송하고, ACK플래그에는 1을 더한 값을 전송
>
>> syn : synchronize sequence numbers 요청 패킷  || ack : acknowledgment 응답 패킷
>
>정확한 순서는 SYN(n) -> ACK(n+1),  SYN(m) --> ACK(m+1) 순으로 일어남
>
>> A-> B로 접속 요청하는 경우
>>
>> 1. A는 B에게 접속 요청하는 SYN 패킷 보냄
>> 2. B는 A에게 SYN패킷 받고, 요청 응한다는 의미의 ACK패킷을 A에게 전송
>> 3. A는 B에게 ACK를 받았다는 의미로 B에게 ACK보내고 연결 설정됨
>
>
>
>TCP 4 way handshake는 TCP연결을 해제하는 단계다.
>
>클라 -> 서버에게 연결 해제 통지하고, 서버가 클라에게 이에 대한 요청을 받았음을 응한다.
>
>최종적으로 연결해제됨



### HTTP와 HTTPS의 차이점?

>HTTP는 암호화 과정을 거치지 않기 때문에 중간에 패킷을 가로챌 수 있고, 수정 가능->보안 취약
>
>HTTPS는 이점을 보완하기 위해 등장함. 암호화 계층을 거쳐서 패킷을 암호화함
>
>여기까지면 충분, 아래는 참고
>
>>HTTP (Hypertext Transfer Protocol) : 하이퍼 텍스트 전송 프로토콜
>>
>>서로 다른 시스템들 사이에서 통신 주고받게 해주는 프로토콜
>>
>>서버에서 브라우저로 전송되는 정보가 암호화되지 않는 단점 -> HTTPS의 SSL로 해결
>>
>>> SSL : 보안소켓계층, 서버와 브라우저 사이에 암호화된 연결을 해줌



### HTTPS에 대해서 설명하고 SSL Handshake에 대해서 설명

>HTTPS 
>
>https는 http에 보안 계층을 추가한 것이다. 
>
>https는 **제3자 인증**, **공개키 암호화**, **비밀키 암호화**를 사용한다.
>
>**제3자 인증**은 **믿을 수 있는 인증기관에 등록된 인증서만 신뢰하는 것**
>**공개키 암호화**는 **비밀키를 공유하기 위해 사용**
>**비밀키 암호화**는 **통신하는 데이터를 암호화**하는데 사용
>
>

><!!!! 이친구는 나중에 공부해오겠음>
>
>https://github.com/ksundong/backend-interview-question
>
>SSL Handshake  
>
>클라이언트는 TCP 3 WAY handshake를 수행한 이후, client hello를 서버에게 전송한다.
>
>서버는 클라에게 server hello(인증서)를 보내고, 클라는 인증서를 신뢰하기 위해 
>
>등록된 인증기관인지 확인한다.
>
>이 인증서는 인증기관의 개인키로 암호화되어있고, 공개키로 검증이 가능하다.(브라우저에 내장됨) 클라이언트는 사이트의 정보와 서버의 공개키 얻을 수 있음
>
>
>
>

### GET, POST의 차이점에 대해서 설명

>GET요청의 경우 서버에 존재하는 정보를 요청
>
>POST요청은 서버에 정보를 생성하는 것을 요청



### HTTP 메소드와 이것이 하는 역할에 대해 설명

>- OPTION은 URI에 대해 서버가 허용하는 메소드 확인할 때 사용,
>
>- HEAD는 GET과 비슷하나 header만 가져옴
>
>- GET요청은 서버에 존재하는 데이터를 요청, CRUD로 치면 R
>- POST요청은 서버에 데이터를 생성하는 것을 요청. CRUD로 치면 C
>- PUT요청은 서버에 존재하는 데이터를 수정하거나 존재하지 않으면 생성. CRUD로 치면 C, U
>- DELETE요청은 서버에 데이터를 제거할 것을 요청. 존재하지 않아도 동일하게 동작. CRUD의 D.
>- PATCH요청은 서버에 존재하는 데이터를 일부 수정.
>
>> http method 취약점
>>
>> 악의적인  사용자가 불필요한 메소드를 파악하여 삭제하거나 파일변조 할 수 있음
>>
>> > 해결방안 : 필요한 메서드만 허용하는 Whitelist방식 



### RESTful이란 무엇이며, 이것에 대해서 아는대로 설명

> REST ? 
>
> 분산 시스템 설계 위한 아키텍처 스타일로, 
>
> 👉 HTTP **URI**를 통해 **자원**을 표시하고 **HTTP Method**를 통해 자원에 대한 **처리**(CRUD)를 표현
>
> 
>
> RESTFUL API?
>
> REST를 만족하는 API 
>
> 👉 **사람이 읽을 수 있는 API**라는 것이 특징
>
> 👉 HTTP를 사용하기 때문에 **HTTP의 특성을 그대로 반영**
>
> 
>
> **장점**
>
> 또한 **별도의 인프라 구축이 필요없다**
>
> 서버와 클라의 역할 명확하게 분리함(REST 서버는 API 제공, 클라이언트는 세션,로그인 등 관리)
>
> HTTP 프로토콜 따르는 모든 플랫폼에서 사용 가능
>
> 
>
> **단점**
>
> 명확한 표준이 존재하지 않는다
>
> 사용할 수 있는 메소드가 4가지밖에 없다.(POST, GET, PUT, DELETE)
>
> (장.단까지만 알아두면 될 듯...)
>
> 
>
> > REST 구성 요소
> >
> > 1. 자원 : URI
> >    - 모든 자원에 고유한 ID가 존재하고, 이 자원은 Server에 존재
> >    - 자원을 구별하는 ID는 ‘/groups/:group_id’와 같은 HTTP URI 다
> > 2. 행위 : HTTP METHOD(POST, GET, PUT, DELETE)
> > 3. 표현 
> >    - 클라가 자원 조작 요청하면, 서버는 이에 응답
> >    - JSON, XML 이런 형태로 표현됨
>
> 
>
> >REST가 필요한 이유
> >
> >- 애플리케이션의 분리 및 통합
> >- 다양한 클라이언트의 등장
> >- 서버는 다양한 플랫폼 위에서 통신 가능해야함



### CORS란 무엇이며 이것에 대해서 설명

> 로컬에서 API서버에 요청을 보낼 떄 흔하게 발생
>
> 서로 다른 도메인간에 자원을 공유하는 것을 뜻함 
>
> 대부분의 브라우저에서는 이를 기본적으로 차단하며,  서버측에서 헤더를 통해서 사용가능한 자원을 알려준다.
>
> preflight request는 실제 요청을 보내도 안전한지 판단하기 위해 사전에 보내는 요청
>
> OPTIONS 메서드로 요청하며 CORS를 허용하는지 확인
>
> CORS가 허용된 웹서버라면 사용 가능한 리소스를 헤더에 담아 응답



### OPI 7 계층과 그 존재 이유, TCP/IP 4계층

>OSI 7 LAYER는 통신과정을 7단계로 나눈 것이고,
>
>그 이유는 특정한 곳에 이상이 생기면 그 단계만 수정하기 위함이다.
>
>하지만 실제로 우리가 대부분 사용하는 네트워크는 TCP/IP 4계층이다.
>
>통신에 실제로 사용되는 계층이고 1,2 계층이 1계층, 5, 6, 7계층이 4계층으로 운영된다.