## RDS**(Relational DataBase Service)**

 AWS에서 지원하는 클라우드 기반 **관계형 데이터베이스** 

모니터링, 알람, 백업, HA 구성 등을 지원하는 **관리형 서비스**

 하드웨어 프로비저닝, 데이터베이스 설정, 패치 및 백업과 같은 잦은 운영 작업을 자동화



## 1. RDS 인스턴스 생성

**MariaDB 추천**

- RDS는 라이센스에 비용 영향 큼, MariaDB가 저렴한 편
- Amazon Aurora 교체 용이성
  - Amazon Aurora  : aws에서 Mysql과 PostgreSQL을 클라우드 기반에 맞게 재구성한 DB

MariaDB 장점 ( Mysql 대비 )

- 동일 하드웨어 사양으로 Mysql보다 높은 성능

- 다양한 기능

- 다양한 스토리지 엔진

  <br>

### **AWS 접속 > 서비스 > RDS > 데이터베이스 생성**

`아래와 같이 작성합니다`

- **데이터베이스 생성 방식 선택:** 표준 생성

- 엔진 옵션

  - **엔진 유형:** MariaDB
  - **버전:** 10.2.21

- **템플릿:** 프리 티어

- 설정

  - 본인이 원하는 식별자, 자격 증명 설정(마스터 사용자 이름) 작성
  - **암호는 추후 RDS 접속시 필요한 정보** 입니다.

- **DB 인스턴스 크기:** 버스터블 클래스 - db.t2.micro

- 스토리지

  - **유형:** 범용(SSD)
  - **할당된 스토리지:** 20 GiB

- 연결 > 추가 연결 구성

  - **퍼블릭 엑세스 가능:** 예
  - **데이터베이스 포트:** 3306

- 추가 구성

  - 초기 데이터베이스 이름 작성

  - **DB 파라미터 그룹:** default.mariadb 10.2

  - **옵션 그룹:** default:mariadb-10-2

    

## 2. RDS 운영황경에 맞는 파라미터 설정

`세 가지 설정 필요`

- 타임존
- Character Set
- Max Connection

### **1) RDS > 파라미터 그룹 > 파라미터 그룹 생성 > 파라미터 편집**

`time_zone` 검색 > Asia/Seoul 선택

`character` 검색 > **character 항목은 utf8mb4** 로 **collation항목은 utf8mb4_general_ci** 로 변경

> **utf8과 utf8mb4 차이**
>
> utf8mb4는 이모지를 저장 가능
>
> max_connections 검색 > 150 으로 변경

### 2) **데이터베이스 > DB 식별자 선택 > 선택 > DB 파라미터 그룹 선택 > 수정 사항 요약: 즉시 적용**



## 3. RDS 접속

RDS에 접속하기 위해서 **RDS의 보안 그룹에 본인 PC IP를 추가** 해야한다!!

### 1) **RDS 인스턴스 선택 > 보안 그룹 선택** 아래 내용 추가

| 유형         | 프로토콜 | 포트범위 | 소스                          |
| ------------ | -------- | -------- | ----------------------------- |
| MySQL/Aurora | TCP      | 3306     | 내 IP                         |
| MySQL/Aurora | TCP      | 3306     | 사용자 지정: EC2 보안 그룹 ID |

이렇게 하면 **EC2와 RDS 간에 접근이 가능**

### 2) PC에서 RDS 접속하는 방법

1. **IntelliJ에 플러그인 설치 후 접근**
2. **Putty EC2 서버에 MySQL를 설치하여 콘솔에서 접근**